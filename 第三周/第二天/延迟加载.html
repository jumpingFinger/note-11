<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        div{
            width: 500px;
            height: 400px;
            background: url(img2/default.gif) no-repeat center center;
            border: 1px solid red;
        }
        div img {
            display: none;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div>
    <img src="" alt="" realImg="img2/jd.jpg">
</div>
</body>
</html>
<script>
    var oImg=document.getElementsByTagName('img')[0];
    window.setTimeout(function (){
        oImg.style.display='block';
        //img的src属性值是真实的图片的路径
        //                    //1.图片是否加载成功没法确定 2.加载的速度慢
        var tempImg=new Image();
        tempImg.src=oImg.getAttribute('realImg');//已经在后台偷偷加载
        tempImg.onload=function (){ //加载成功
            //this.src保存了真实的的图片路径 ,浏览器有缓存机制的
            oImg.src=this.src;//直接会从缓存中f拿到这张图片
        };
        tempImg.onerror=function (){
            oImg.src='img2/error.gif';
        };
    },2000);


</script>